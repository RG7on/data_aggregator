<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Data Aggregator â€” Settings</title>
<style>
  :root { --bg: #0d1117; --surface: #161b22; --border: #30363d; --text: #c9d1d9; --muted: #8b949e;
           --accent: #58a6ff; --green: #3fb950; --red: #f85149; --yellow: #d29922; --radius: 8px; }
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
         background: var(--bg); color: var(--text); line-height: 1.6; padding: 24px; max-width: 960px; margin: auto; }

  h1 { font-size: 24px; margin-bottom: 4px; }
  .subtitle { color: var(--muted); font-size: 14px; margin-bottom: 24px; }
  h2 { font-size: 18px; margin: 24px 0 12px; display: flex; align-items: center; gap: 8px; }
  h2 .badge { font-size: 11px; padding: 2px 8px; border-radius: 12px; background: var(--border); color: var(--muted); font-weight: 400; }
  h3 { font-size: 15px; color: var(--accent); margin: 16px 0 8px; }

  .card { background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius); padding: 20px; margin-bottom: 16px; }
  .card.collapsed .card-body { display: none; }
  .card-header { display: flex; justify-content: space-between; align-items: center; cursor: pointer; user-select: none; }
  .card-header h2 { margin: 0; }
  .card-header .toggle { font-size: 20px; color: var(--muted); transition: transform .2s; }
  .card.collapsed .toggle { transform: rotate(-90deg); }

  .field { margin-bottom: 14px; }
  .field label { display: block; font-size: 13px; color: var(--muted); margin-bottom: 4px; }
  .field input[type="text"], .field input[type="number"], .field input[type="password"], .field select, .field textarea {
    width: 100%; padding: 8px 12px; background: var(--bg); border: 1px solid var(--border);
    border-radius: 6px; color: var(--text); font-size: 14px; font-family: inherit; }
  .field input:focus, .field select:focus, .field textarea:focus { outline: none; border-color: var(--accent); }
  .field textarea { min-height: 72px; resize: vertical; font-family: 'Cascadia Code', 'Fira Code', monospace; font-size: 13px; }
  .field .hint { font-size: 12px; color: var(--muted); margin-top: 2px; }

  .row { display: flex; gap: 12px; }
  .row > .field { flex: 1; }

  .toggle-switch { display: flex; align-items: center; gap: 10px; margin-bottom: 14px; }
  .toggle-switch input[type="checkbox"] { width: 36px; height: 20px; appearance: none; background: var(--border);
    border-radius: 10px; position: relative; cursor: pointer; transition: .2s; }
  .toggle-switch input[type="checkbox"]::after { content: ''; position: absolute; width: 16px; height: 16px;
    background: var(--muted); border-radius: 50%; top: 2px; left: 2px; transition: .2s; }
  .toggle-switch input[type="checkbox"]:checked { background: var(--green); }
  .toggle-switch input[type="checkbox"]:checked::after { left: 18px; background: #fff; }
  .toggle-switch label { font-size: 14px; cursor: pointer; }

  .btn-bar { display: flex; gap: 10px; margin-top: 24px; position: sticky; bottom: 0; background: var(--bg); padding: 16px 0; border-top: 1px solid var(--border); }
  .btn { padding: 10px 20px; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; font-size: 14px; }
  .btn-primary { background: var(--green); color: #fff; }
  .btn-primary:hover { filter: brightness(1.1); }
  .btn-secondary { background: var(--border); color: var(--text); }
  .btn-secondary:hover { background: #3d444d; }

  .toast { position: fixed; bottom: 24px; right: 24px; padding: 12px 20px; border-radius: 8px;
           font-size: 14px; font-weight: 500; opacity: 0; transition: opacity .3s; pointer-events: none; z-index: 100; }
  .toast.show { opacity: 1; }
  .toast.success { background: var(--green); color: #fff; }
  .toast.error { background: var(--red); color: #fff; }
  .toast.info { background: var(--accent); color: #fff; }

  .tabs { display: flex; border-bottom: 1px solid var(--border); margin-bottom: 20px; }
  .tab { padding: 10px 18px; cursor: pointer; color: var(--muted); border-bottom: 2px solid transparent; transition: .2s; font-size: 14px; }
  .tab:hover { color: var(--text); }
  .tab.active { color: var(--accent); border-bottom-color: var(--accent); }
  .tab-content { display: none; }
  .tab-content.active { display: block; }

  code { background: var(--bg); padding: 2px 6px; border-radius: 4px; font-size: 13px; }
  .help { background: #1c2128; border: 1px solid var(--border); border-radius: var(--radius); padding: 16px; margin-bottom: 16px; font-size: 13px; color: var(--muted); }
  .help strong { color: var(--text); }
</style>
</head>
<body>

<h1>âš™ï¸ Data Aggregator Settings</h1>
<p class="subtitle">Edit settings below, then click <strong>Save</strong> to generate updated JSON files. Copy the JSON into your config files.</p>

<div class="tabs">
  <div class="tab active" onclick="switchTab('global')">Global</div>
  <div class="tab" onclick="switchTab('cuic')">CUIC Worker</div>
  <div class="tab" onclick="switchTab('smax')">SMAX Worker</div>
  <div class="tab" onclick="switchTab('export')">Export / Import</div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!--  GLOBAL TAB                                                            -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="tab-content active" id="tab-global">
  <div class="card">
    <h2>Browser</h2>
    <div class="card-body">
      <div class="toggle-switch">
        <input type="checkbox" id="g-headless" checked>
        <label for="g-headless">Headless mode <span style="color:var(--muted)">(no visible browser window)</span></label>
      </div>
      <div class="toggle-switch">
        <input type="checkbox" id="g-system-chrome" checked>
        <label for="g-system-chrome">Use system Chrome</label>
      </div>
    </div>
  </div>

  <div class="card">
    <h2>Screenshots</h2>
    <div class="card-body">
      <div class="toggle-switch">
        <input type="checkbox" id="g-screenshot-steps">
        <label for="g-screenshot-steps">Screenshot every step <span style="color:var(--muted)">(slow but useful for debugging)</span></label>
      </div>
      <div class="toggle-switch">
        <input type="checkbox" id="g-screenshot-errors" checked>
        <label for="g-screenshot-errors">Screenshot on errors</label>
      </div>
    </div>
  </div>

  <div class="card">
    <h2>Logging & Storage</h2>
    <div class="card-body">
      <div class="row">
        <div class="field">
          <label>Log Level</label>
          <select id="g-log-level">
            <option value="DEBUG">DEBUG</option>
            <option value="INFO" selected>INFO</option>
            <option value="WARNING">WARNING</option>
            <option value="ERROR">ERROR</option>
          </select>
        </div>
        <div class="field">
          <label>Data Retention (days)</label>
          <input type="number" id="g-retention" value="90" min="1">
        </div>
      </div>
      <div class="row">
        <div class="field">
          <label>Output Directory</label>
          <input type="text" id="g-output-dir" value="output">
          <div class="hint">Relative to project root</div>
        </div>
        <div class="field">
          <label>Log Directory</label>
          <input type="text" id="g-log-dir" value="logs">
        </div>
      </div>
      <div class="field">
        <label>Shared Drive CSV Path</label>
        <input type="text" id="g-shared-drive" value="" placeholder="\\\\server\\share\\kpi_snapshots.csv">
        <div class="hint">UNC path to auto-export CSV for Power BI. Leave empty to disable.</div>
      </div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!--  CUIC TAB                                                              -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="tab-content" id="tab-cuic">
  <div class="card">
    <h2>CUIC Worker <span class="badge">cuic_worker.py</span></h2>
    <div class="card-body">
      <div class="toggle-switch">
        <input type="checkbox" id="cuic-enabled" checked>
        <label for="cuic-enabled">Enabled</label>
      </div>

      <h3>Connection</h3>
      <div class="field">
        <label>CUIC URL</label>
        <input type="text" id="cuic-url" value="https://148.151.32.77:8444/cuicui/Main.jsp">
      </div>
      <div class="row">
        <div class="field">
          <label>Username</label>
          <input type="text" id="cuic-user" value="">
        </div>
        <div class="field">
          <label>Password</label>
          <input type="password" id="cuic-pass" value="">
        </div>
      </div>

      <h3>Report Path</h3>
      <div class="row">
        <div class="field">
          <label>Folder Name</label>
          <input type="text" id="cuic-folder" value="Test">
        </div>
        <div class="field">
          <label>Report Name</label>
          <input type="text" id="cuic-report" value="Z Call Type Historical All Fields">
        </div>
      </div>

      <h3>Timeouts (ms)</h3>
      <div class="help">Lower values = faster, but may cause failures on slow networks. Raise if the worker times out.</div>
      <div class="row">
        <div class="field"><label>Navigation</label><input type="number" id="cuic-t-nav" value="30000"></div>
        <div class="field"><label>Short wait</label><input type="number" id="cuic-t-short" value="1500"></div>
      </div>
      <div class="row">
        <div class="field"><label>Medium wait</label><input type="number" id="cuic-t-medium" value="2500"></div>
        <div class="field"><label>Long wait</label><input type="number" id="cuic-t-long" value="8000"></div>
      </div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!--  SMAX TAB                                                              -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="tab-content" id="tab-smax">
  <div class="card">
    <h2>SMAX Worker <span class="badge">smax_worker.py</span></h2>
    <div class="card-body">
      <div class="toggle-switch">
        <input type="checkbox" id="smax-enabled" checked>
        <label for="smax-enabled">Enabled</label>
      </div>

      <h3>Connection</h3>
      <div class="field">
        <label>Base URL</label>
        <input type="text" id="smax-url" value="https://smax.corp.pdo.om">
      </div>
      <div class="row">
        <div class="field">
          <label>Username</label>
          <input type="text" id="smax-user" value="">
        </div>
        <div class="field">
          <label>Password</label>
          <input type="password" id="smax-pass" value="">
        </div>
      </div>

      <h3>Report URLs</h3>
      <div class="field">
        <label>One URL per line</label>
        <textarea id="smax-urls" rows="6"></textarea>
      </div>

      <h3>Timeouts (ms)</h3>
      <div class="row">
        <div class="field"><label>Page Load</label><input type="number" id="smax-t-load" value="120000"></div>
        <div class="field"><label>Element Wait</label><input type="number" id="smax-t-elem" value="30000"></div>
      </div>
      <div class="row">
        <div class="field"><label>Tab Stagger Delay</label><input type="number" id="smax-t-stagger" value="2000"></div>
        <div class="field"><label>Max Retries</label><input type="number" id="smax-retries" value="2" min="0"></div>
      </div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!--  EXPORT / IMPORT TAB                                                   -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="tab-content" id="tab-export">
  <div class="help">
    <strong>How to use:</strong> Click "Generate JSON" to build both config files from the form values above.
    Then copy each JSON block into the corresponding file inside <code>config/</code>.
    Or use "Load from JSON" to populate the form from existing files.
  </div>

  <div class="card">
    <h2>settings.json</h2>
    <div class="card-body">
      <div class="field"><textarea id="out-settings" rows="16" readonly></textarea></div>
      <button class="btn btn-secondary" onclick="copyToClipboard('out-settings')">ğŸ“‹ Copy</button>
    </div>
  </div>

  <div class="card">
    <h2>credentials.json</h2>
    <div class="card-body">
      <div class="field"><textarea id="out-credentials" rows="8" readonly></textarea></div>
      <button class="btn btn-secondary" onclick="copyToClipboard('out-credentials')">ğŸ“‹ Copy</button>
    </div>
  </div>

  <div style="margin-top:16px">
    <h3>Load from existing JSON</h3>
    <div class="row">
      <div class="field">
        <label>Paste settings.json</label>
        <textarea id="in-settings" rows="6" placeholder='Paste settings.json content here...'></textarea>
      </div>
      <div class="field">
        <label>Paste credentials.json</label>
        <textarea id="in-credentials" rows="6" placeholder='Paste credentials.json content here...'></textarea>
      </div>
    </div>
    <button class="btn btn-secondary" onclick="loadFromJSON()">â¬†ï¸ Load into form</button>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!--  SAVE BAR                                                              -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="btn-bar">
  <button class="btn btn-primary" onclick="generateJSON()">ğŸ’¾ Generate JSON</button>
  <button class="btn btn-secondary" onclick="resetDefaults()">â†©ï¸ Reset to defaults</button>
</div>

<div class="toast" id="toast"></div>

<script>
// â”€â”€ Tab switching â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function switchTab(name) {
  document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
  document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
  document.getElementById('tab-' + name).classList.add('active');
  event.target.classList.add('active');
}

// â”€â”€ Toast â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function showToast(msg, type = 'success') {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.className = 'toast show ' + type;
  setTimeout(() => t.classList.remove('show'), 3000);
}

// â”€â”€ Build JSON from form â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function buildSettings() {
  return {
    global: {
      headless:             document.getElementById('g-headless').checked,
      use_system_chrome:    document.getElementById('g-system-chrome').checked,
      screenshot_steps:     document.getElementById('g-screenshot-steps').checked,
      screenshot_errors:    document.getElementById('g-screenshot-errors').checked,
      log_level:            document.getElementById('g-log-level').value,
      output_dir:           document.getElementById('g-output-dir').value,
      log_dir:              document.getElementById('g-log-dir').value,
      data_retention_days:  parseInt(document.getElementById('g-retention').value) || 90,
      shared_drive_csv:     document.getElementById('g-shared-drive').value
    },
    workers: {
      cuic: {
        enabled:            document.getElementById('cuic-enabled').checked,
        url:                document.getElementById('cuic-url').value,
        report_folder:      document.getElementById('cuic-folder').value,
        report_name:        document.getElementById('cuic-report').value,
        timeout_nav_ms:     parseInt(document.getElementById('cuic-t-nav').value) || 30000,
        timeout_short_ms:   parseInt(document.getElementById('cuic-t-short').value) || 1500,
        timeout_medium_ms:  parseInt(document.getElementById('cuic-t-medium').value) || 2500,
        timeout_long_ms:    parseInt(document.getElementById('cuic-t-long').value) || 8000
      },
      smax: {
        enabled:              document.getElementById('smax-enabled').checked,
        base_url:             document.getElementById('smax-url').value,
        report_urls:          document.getElementById('smax-urls').value.split('\n').map(s=>s.trim()).filter(Boolean),
        page_load_timeout_ms: parseInt(document.getElementById('smax-t-load').value) || 120000,
        element_wait_timeout_ms: parseInt(document.getElementById('smax-t-elem').value) || 30000,
        tab_stagger_delay_ms: parseInt(document.getElementById('smax-t-stagger').value) || 2000,
        max_retries:          parseInt(document.getElementById('smax-retries').value) || 2
      }
    }
  };
}

function buildCredentials() {
  return {
    cuic: { username: document.getElementById('cuic-user').value, password: document.getElementById('cuic-pass').value },
    smax: { username: document.getElementById('smax-user').value, password: document.getElementById('smax-pass').value }
  };
}

function generateJSON() {
  const settings = buildSettings();
  const creds = buildCredentials();
  document.getElementById('out-settings').value = JSON.stringify(settings, null, 2);
  document.getElementById('out-credentials').value = JSON.stringify(creds, null, 2);
  switchTab('export');
  // activate the export tab button
  document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
  document.querySelectorAll('.tab')[3].classList.add('active');
  showToast('JSON generated! Copy into config/ files.', 'success');
}

// â”€â”€ Load JSON into form â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function loadFromJSON() {
  try {
    const settingsText = document.getElementById('in-settings').value.trim();
    const credsText = document.getElementById('in-credentials').value.trim();

    if (settingsText) {
      const s = JSON.parse(settingsText);
      populateSettings(s);
    }
    if (credsText) {
      const c = JSON.parse(credsText);
      populateCredentials(c);
    }
    showToast('Form populated from JSON', 'success');
  } catch (e) {
    showToast('Invalid JSON: ' + e.message, 'error');
  }
}

function populateSettings(s) {
  const g = s.global || {};
  setBool('g-headless', g.headless, true);
  setBool('g-system-chrome', g.use_system_chrome, true);
  setBool('g-screenshot-steps', g.screenshot_steps, false);
  setBool('g-screenshot-errors', g.screenshot_errors, true);
  setVal('g-log-level', g.log_level || 'INFO');
  setVal('g-output-dir', g.output_dir || 'output');
  setVal('g-log-dir', g.log_dir || 'logs');
  setVal('g-retention', g.data_retention_days || 90);
  setVal('g-shared-drive', g.shared_drive_csv || '');

  const cuic = (s.workers || {}).cuic || {};
  setBool('cuic-enabled', cuic.enabled, true);
  setVal('cuic-url', cuic.url || '');
  setVal('cuic-folder', cuic.report_folder || '');
  setVal('cuic-report', cuic.report_name || '');
  setVal('cuic-t-nav', cuic.timeout_nav_ms || 30000);
  setVal('cuic-t-short', cuic.timeout_short_ms || 1500);
  setVal('cuic-t-medium', cuic.timeout_medium_ms || 2500);
  setVal('cuic-t-long', cuic.timeout_long_ms || 8000);

  const smax = (s.workers || {}).smax || {};
  setBool('smax-enabled', smax.enabled, true);
  setVal('smax-url', smax.base_url || '');
  setVal('smax-urls', (smax.report_urls || []).join('\n'));
  setVal('smax-t-load', smax.page_load_timeout_ms || 120000);
  setVal('smax-t-elem', smax.element_wait_timeout_ms || 30000);
  setVal('smax-t-stagger', smax.tab_stagger_delay_ms || 2000);
  setVal('smax-retries', smax.max_retries || 2);
}

function populateCredentials(c) {
  const cuic = c.cuic || {};
  const smax = c.smax || {};
  setVal('cuic-user', cuic.username || '');
  setVal('cuic-pass', cuic.password || '');
  setVal('smax-user', smax.username || '');
  setVal('smax-pass', smax.password || '');
}

function setBool(id, val, def) { document.getElementById(id).checked = val !== undefined ? val : def; }
function setVal(id, val) { document.getElementById(id).value = val; }

// â”€â”€ Defaults â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function resetDefaults() {
  populateSettings({
    global: { headless: true, use_system_chrome: true, screenshot_steps: false, screenshot_errors: true,
              log_level: 'INFO', output_dir: 'output', log_dir: 'logs', data_retention_days: 90, shared_drive_csv: '' },
    workers: {
      cuic: { enabled: true, url: 'https://148.151.32.77:8444/cuicui/Main.jsp', report_folder: 'Test',
              report_name: 'Z Call Type Historical All Fields', timeout_nav_ms: 30000, timeout_short_ms: 1500,
              timeout_medium_ms: 2500, timeout_long_ms: 8000 },
      smax: { enabled: true, base_url: 'https://smax.corp.pdo.om', report_urls: [],
              page_load_timeout_ms: 120000, element_wait_timeout_ms: 30000, tab_stagger_delay_ms: 2000, max_retries: 2 }
    }
  });
  populateCredentials({ cuic: { username: '', password: '' }, smax: { username: '', password: '' } });
  showToast('Reset to defaults', 'info');
}

function copyToClipboard(id) {
  const el = document.getElementById(id);
  el.select();
  document.execCommand('copy');
  showToast('Copied to clipboard', 'success');
}

// â”€â”€ On load: try to read config files via File API (won't work without server, that's fine) â”€â”€
// Fill defaults
resetDefaults();
// Put SMAX report URLs
setVal('smax-urls', [
  'https://smax.corp.pdo.om/reports/report/69808de7e4b05f4efa3fa48f',
  'https://smax.corp.pdo.om/reports/report/6721c16be4b07e954f2bcb7e',
  'https://smax.corp.pdo.om/reports/report/60238f97e4b04b36af700a76',
  'https://smax.corp.pdo.om/reports/report/684a818ae4b07b034c72581b',
  'https://smax.corp.pdo.om/reports/report/6472f4b8e4b0636a776f1640'
].join('\n'));
</script>
</body>
</html>
